<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disaster List</title>
    <style>
         body {
            font-family: 'Verdana', sans-serif;
            margin: 0;
            padding: 170px;
            background: linear-gradient(120deg, #1e293b, #2a4a7f, #4a7fc8); /* Smooth gradient with intermediate color */
            overflow-x: hidden; /* Prevent horizontal overflow */
        }
        h1 {
            text-align: center;
            color: #eee; /* Changed to white for better contrast */
        }
        .disaster-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        .disaster-card {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .disaster-card h2 {
            margin: 0;
            color: #333;
        }
        .disaster-card p {
            margin: 5px 0;
            color: #555;
        }
        .disaster-card .volunteers {
            font-weight: bold;
            color: #4CAF50;
        }
        .register-button {
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            align-self: flex-start;
        }
        .register-button:hover {
            background-color: #45a049;
        }
    </style>

</head>
<body>
    <h1>List of Disasters</h1>
    <div class="disaster-grid">
        {% for disaster in disasters %}
        <div class="disaster-card">
            <h2>{{ disaster.type }}</h2>
            <p>{{ disaster.description }}</p>
            <p class="Location"><a href={{ disaster.location }}>üìçLocation</a></p>
            <p class="volunteers">Volunteers: {{disaster.members}}</p>
            <button class="register-button" onclick="register('{{ disaster.id }}')">Register</button>
        </div>
        {% endfor %}
    </div>

    <script>
        function register(disasterId) {
            // Add logic here to handle registration (e.g., POST request to the server)
            alert(`You have registered for the disaster with ID: ${disasterId}`);
            
            // Example AJAX POST request (uncomment and configure as needed)
            // fetch('/register/', {
            //     method: 'POST',
            //     headers: {
            //         'Content-Type': 'application/json',
            //         'X-CSRFToken': '{{ csrf_token }}'
            //     },
            //     body: JSON.stringify({ id: disasterId })
            // }).then(response => {
            //     if (response.ok) {
            //         alert('Registration successful!');
            //     } else {
            //         alert('Registration failed.');
            //     }
            // }).catch(error => console.error('Error:', error));
        }
    </script>
</body>
</html>
